plugins {
    id 'org.jetbrains.kotlin.js' version '1.5.10'
}

group 'net.nyhm'
version '0.3.0'

repositories {
    mavenCentral()
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib-js"
    testImplementation "org.jetbrains.kotlin:kotlin-test-js"
}

kotlin {
    js {
        //moduleName = "astar" // "kotlin" by default?
        browser {
            webpackTask {
                //cssSupport.enabled = true
            }

            runTask {
                //cssSupport.enabled = true
            }

            testTask {
                enabled = true
                /*
                useKarma {
                    useChromeHeadless()
                    //useFirefox()
                    //webpackConfig.cssSupport.enabled = true
                }*/
                useMocha { } // initializes faster than Karma (no Chrome?)
            }

            dceTask {
                dceOptions.devMode = true // disables dce entirely
            }
        }
        // nodejs { }
        binaries.executable()
    }
}